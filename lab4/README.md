# Сегментация изображений

Приложение для классической сегментации изображений с графическим интерфейсом.

## Описание

Реализация классических алгоритмов сегментации изображений без использования готовых CV-функций, используя только numpy для математики. Приложение включает:

1. **Сегментация по краям** — операторы Собеля, Превитта и Робертса
2. **Глобальная пороговая сегментация**:
   - Метод площади (P-tile)
   - Метод последовательных приближений
   - Метод K-средних
   - Многоуровневая сегментация
   - Сглаживание гистограммы и поиск пиков
3. **Адаптивная пороговая сегментация** — с различными типами статистики

## Установка

1. Установите зависимости:
```bash
pip install -r requirements.txt
```

2. Запустите приложение:
```bash
python main.py
```

## Использование

1. **Загрузка изображения**: Нажмите кнопку "Загрузить изображение" и выберите файл
2. **Выбор метода сегментации**: Переключитесь на нужную вкладку (Края, Глобальные пороги, Адаптивные пороги)
3. **Настройка параметров**: Измените параметры метода через элементы управления
4. **Применение**: Нажмите кнопку "Применить" для выполнения сегментации

### Сегментация по краям

- Выберите оператор (Собель, Превитт, Робертс)
- Установите порог градиента T_edge
- Результат показывается в бинарном виде (0 и 255)

### Глобальная пороговая сегментация

- **P-tile**: Установите процент пикселей P, которые должны быть выше порога
- **Последовательные приближения**: Установите точность eps для критерия останова
- **K-средних**: Выберите количество кластеров k
- **Гистограмма**: 
  - Включите сглаживание для уменьшения шума
  - Покажите пики на гистограмме для визуального анализа

### Адаптивная пороговая сегментация

- Выберите тип статистики (mean, median, avg_min_max)
- Установите размер окна (нечётное число)
- Настройте корректирующий параметр C

## Структура проекта

```
segmentation/
├── core/
│   ├── edges.py              # Операторы градиента
│   ├── threshold_global.py   # Глобальные пороги
│   ├── threshold_adaptive.py # Адаптивные пороги
│   └── hist_utils.py         # Гистограммы и сглаживание
├── visual/
│   └── display.py            # Функции визуализации
└── main.py                   # GUI приложение
```

## Требования

- Python 3.7+
- numpy >= 1.21.0
- PySide6 >= 6.0.0
- opencv-python >= 4.5.0
- matplotlib >= 3.5.0

## Особенности

- Все алгоритмы реализованы вручную с использованием только numpy
- Математически прозрачные алгоритмы без чёрных ящиков
- Интерактивный GUI с возможностью изменения параметров в реальном времени
- Визуализация исходного изображения, гистограммы и результатов
- Сравнение различных методов на одном экране

